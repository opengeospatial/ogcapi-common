[[overview]]
== Overview

This OGC API - Common - Part 2: Geospatial Data Standard provides a way to list and describe available collections of spatiotemporal data.
Web APIs specifying mechanisms to access data are defined in separate OGC API Standards.
This Standard depends on the Core requirements class of OGC API - Common - Part 1: Core which specifies fundamental requirements for OGC Web APIs based on HTTP.
Implementations may also conform to the Landing Page requirements class of Part 1 which specifies additional requirements for the landing page (root of the API),
conformance declaration (`/conformance`) and an API definition.

[[collections-introduction]]
=== Collections

Spatiotemporal data is rarely considered as a single entity, but as aggregations, or _collections_, of <<spatial-thing-definition,Spatio>>-<<temporal-thing-definition,Temporal>> things.

While _collection_ is a common term, its specific meaning is often based on the context in which it is used. Given the focus on addressing geospatial data, a definition that reflects the unique characteristics
of geospatial data collections is needed.
Therefore, **for purposes of this standard** and in the context of OGC APIs, the term <<collection-definition,Collection>> refers to a set of spatiotemporal data that may be available through one or more
access mechanisms defined by OGC API standard(s).

The purpose of the OGC API - Common - Part 2: Geospatial Data Standard is to list and describe the available geospatial data collections.

OGC Web API Standards could extend this definition to address the specific properties of the resources they describe.

[[access-mechanisms]]
=== Data access mechanisms

A collection of geospatial data may be accessed in more than one way.
Some examples of data access mechanisms are:

* a feature-centric approach allowing to access individual features by their identifiers,
* providing access to a subset of geospatial information for an arbitrary area, time and resolution of interest,
* provide access to data for pre-determined partitions of space using tiles or discrete global grid zones.

To illustrate a particular use case, a collection of data for land cover classification may be available either as individual features where one multi-polygon feature corresponds to low vegetation,
another feature corresponds to trees and yet another feature corresponds to the built-up area.
In an implementation of the OGC API - Features Standard, each of these features may be individually accessible at:

`/collections/landcover/items/{itemId}`.

The API deployment may also include an implementation of the access mechanism defined by the OGC API - Coverages Standard for the same classified land cover collection enabling retrieval of a subset for a given spatial area using:

`/collections/landcover/coverage?subset=Lat(10:20),Lon(30:40)`.

The OGC API - Common - Part 2: Geospatial Data Standard describes data collections, but does not define any _access mechanisms_ to the data.
Access mechanisms are defined in separate OGC Web API Standards.

The _access mechanisms_ are defined by the resource paths which are specified in the different OGC API Standards.
The resources associated with a particular _access mechanism_ for a specific collection will be under the collection resource:

`/collections/{collectionId}/{accessResources}`

where:

* `{collectionId}` is an identifier for the collection
* `{accessResources}` are resources defined for accessing data using a particular mechanism.

IMPORTANT: Editors of OGC API Standards and implementers of Web APIs will carefully avoid redefining different resources with the same path in different OGC API Standards and implementations,
so that API deployments can offer multiple data access mechanisms for the same collections.

TIP: The available data access mechanisms supported for a specific collection are typically advertised by including links using specific link relation types defined
by the various OGC API Standards in the `links` array of the collection description.

_Access mechanisms_ should not be confused with _representations_.

[[representation]]
=== Representation

Data access mechanisms may support one or more representation (data formats / encodings) for each resource they define.
A representation is typically negotiated between the server and client using HTTP content negotiation (the `Accept:` request header).
In the land cover example above, the client could request either individual features or a feature collection as GeoJSON (`Accept: application/geo+json`) or as GeoPackage (`Accept: application/geopackage+sqlite3`),
and the coverage request could be requested as GeoTIFF (`Accept: image/tiff; application=geotiff`) or also as GeoPackage (`application/geopackage+sqlite3`) leveraging the https://docs.ogc.org/is/17-066r2/17-066r2.html[GeoPackage Extension for Tiled Gridded Coverage Data].
Alternative formats supported by both the server and client could also be negotiated successfully.

Some media types for encodings such as JSON are very generic. When no suitable media type has been registered for a representation using a specific schema, a mechanism to negotiate a particular
profile may also be used for example using a `profile` query parameter or an `Accept-Profile:` request header as described in the https://www.w3.org/TR/dx-prof-conneg/[W3C Content Negotiation by Profile Working Draft],
in combination with the regular HTTP content negotiation headers. The concept of profile may also be used to control other aspects of the representation besides the schema.

=== UML Class Diagram
The following UML class diagram represents the model of common resources offered by Web APIs implementing one or more OGC API Standards.
In particular, the diagram describes the resources presented in OGC API Common - Part 1: the Landing page (_LandingPage_ class), the conformance page (_ConformanceClasses_) and the exception report (_Exception_).
The diagram also describes the two resources specified in this Part 2: the collections page (_Collections_) and the collection description (_CollectionDescription_), as well as its associated classes.
While these common resources are precisely described in the requirements to follow, they are presented here as a UML diagram for convenience.
The transformation of this UML diagram into a list of tables, one for each class, can be found in <<annex-uml-tables>>.
In case of discrepancy between this UML diagram, the UML tables, and the text of the requirements, the requirements should be considered correct.

[[conceptual-model]]
[#img_uml_model='{figure-caption} {counter:figure-num}']
.UML class diagram describing the common resources
image::xmi-images/EAID_1D4EEC35_FEDC_4ab6_A5CD_C6E4081F5F3F.png[width=700,align="center"]
